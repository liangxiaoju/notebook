Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2011-11-08T21:34:23+08:00

====== crossdev ======
Created 星期二 08 十一月 2011

overlay: gentoo-zh

crossdev -t arm-unknown-linux-gnueabi

错误信息：
* Done with patching
* Fixing misc issues in configure files
* Using GNU config files from /usr/share/gnuconfig
* Updating config.sub
 [ ok ]
* Updating config.guess
 [ ok ]
* Running elibtoolize in: binutils-2.21.1/

* Portage patch requested, but failed to apply!
* Please file a bug report to add a proper patch.
* ERROR: cross-arm-unknown-linux-glibc/binutils-2.21.1-r1 failed (unpack phase):
* Portage patch requested, but failed to apply!
* Call stack:
* ebuild.sh, line   91:  Called src_unpack
* environment, line 3239:  Called toolchain-binutils_src_unpack
* environment, line 4048:  Called tc-binutils_apply_patches
* environment, line 3413:  Called elibtoolize '--portage' '--no-uclibc'
* environment, line 1311:  Called die
* The specific snippet of code:
* die "Portage patch requested, but failed to apply!";


解决办法：
修改overlay gentoo-zh 中repos的顺序
[[/var/lib/layman/gentoo-zh/metadata/layout.conf]]

原来的：
# Autogenerated and managed by crossdev
# Delete the above line if you want to manage this file yourself
masters = gentoo-zh gentoo

改成：
# Delete the above line if you want to manage this file yourself
masters = gentoo gentoo-zh
