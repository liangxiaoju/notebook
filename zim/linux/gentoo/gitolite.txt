Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2011-11-26T17:11:26+08:00

====== gitolite ======
Created 星期六 26 十一月 2011

http://www.ossxp.com/doc/git/gitolite.html
http://blog.liwenqiu.me/?tag=gitolite
http://blog.tampakrap.gr/gitolite-installation-with-gitweb-and-anongit-in-gentoo-and-debian/


在服务器创建专用帐号，所有用户通过此帐号访问git，
sudo useradd --system --shell /bin/bash --user-group git
设置口令，完成后可以再取消口令认证，
sudo passwd git
如果通过gentoo portage安装gitolite，会自动生成git帐号。

管理员在自己的机器上建立管理帐号，假如还没有的话，
sudo useradd --shell /bin/bash --home /home/admin --create-home admin
sudo passwd admin

管理员生成ssh密钥，
ssh-keygen -t rsa
scp .ssh/id_rsa.pub git@SERVER:/tmp/

直接在服务器端执行：
gl-setup /tmp/id_rsa.pub
会在HOME生成projects.list和repositories，
repositories下有两个项目gitolite-admin.git和testing.git

在管理员客户端clone gitolite-admin
git clone git@SERVER:gitolite-admin

如果出现如下错误：
Cloning into 'gitolite-admin'...
fatal: 'gitolite-admin.git' does not appear to be a git repository
fatal: The remote end hung up unexpectedly
It might be because a public key has been added to the authorized_keys file
for the gitolite git user account.
you can only have keys generated by Gitolite in the authorized_key file.
只用把之前的key删除就OK了
